<?php

namespace App\Controllers;
class Articles extends BaseController
{
    private $contentGenerator;
    public function __construct()
    {
        $this->contentGenerator = new Content();
    }
    /*
     * Home page where you can see a list of autogenerated topics to start browsing.
     */
    public function index(): string
    {
        $topicList = $this->contentGenerator->getTopicsArray();
        $page = view('header', ['title' => 'Select a topic as a start point!']);
        $page .= view('topics');
        $page .= view('footer');
        return $page;
    }

    public function fromTopic(string $topic): string
    {
        $page = view('header', ['topic' => $topic]);
        $page .= view('topic_articles', ['topic' => $topic]);
        $page .= view('footer', ['topic' => $topic]);
        return $page;
    }

    public function nextArticle(string $target, string $source): string
    {
        $page = view('header', ['target' => $target, 'source' => $source]);
        $page .= view('article', ['target' => $target, 'source' => $source]);
        $page .= view('footer', ['target' => $target, 'source' => $source]);
        return $page;
    }
}